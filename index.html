<!DOCTYPE html>
<html lang="en">

<head>

    <title>Assignment Manager</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">

    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.20/css/jquery.dataTables.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.20/css/dataTables.bootstrap4.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/buttons/1.6.0/css/buttons.dataTables.min.css">

    <link rel="stylesheet" type="text/css" href="css/main.css">


</head>

<body>

    <nav class="navbar navbar-expand-md">
      <a class="navbar-brand" href="#">Assignment Manager</a>
      <button class="navbar-toggler navbar-dark" type="button" data-toggle="collapse" data-target="#main-navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="main-navigation">
        <ul class="navbar-nav">
          <li class="nav-item"><a class="nav-link" href="#dashboard">Dashboard</a> </li>
          <li class="nav-item"><a class="nav-link" href="#log">Log</a> </li>
          <li class="nav-item"><a class="nav-link" href="#configure">Configure</a> </li>
        </ul>
      </div>
    </nav>

   <br>

   <div class="container">

        <table id="table-logger" class="table small" width="100%" ></table>

   </div>


   <script  src="https://code.jquery.com/jquery-3.4.1.min.js"  integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="  crossorigin="anonymous"></script>
   <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>

   <script src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js" crossorigin="anonymous"></script>
   <script src="https://cdn.datatables.net/1.10.20/js/dataTables.bootstrap4.min.js"></script>
   <script src="https://cdn.datatables.net/buttons/1.6.0/js/dataTables.buttons.min.js" crossorigin="anonymous"></script>


   <script>
   $(document).ready(function(){

     $('.header').height($(window).height());

     // {"message", "remote_addr", "context"  "level",  "level_name",   "channel",  "datetime": {"date", "timezone_type":3, "timezone":"America/New_York" }, "extra" }
     $('#table-logger').DataTable({

       "ajax" : {
          "type" : "OPTIONS",
          "url" : "index.php",
          "dataType" : "json"
       },
       "columns" : [
            { "data" : "datetime.date" , "title" : "Timestamp" },
            { "data" : "remote_addr" , "title" : "Address" },
            { "data" : "level_name" , "title" : "Level" },
            { "data" : "message" , "title" : "Message" },
            { "data" : "context" , "title" : "Context" }
       ],
       "order" : [ 0, 'desc' ]

    });

    window.setInterval( function() { 
         table = $("#table-logger").DataTable();
         table.ajax.reload();
    }, 5000 );


   });
   </script>

</body>


</html>






